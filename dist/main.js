!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);const r={PlayerVsComputer:1,ComputerVsComputer:2};class o{constructor(e,t){this.hands=e,this.rules=t}getHandByShape(e){return this.hands.find(t=>t.shape===e)}playComputer(){return this.hands[Math.floor(Math.random()*Math.floor(this.hands.length))]}compare(e,t){return e.shape===t.shape?0:this.rules[e.shape].includes(t.shape)?1:-1}}class s{constructor(e,t){this.shape=e,this.avatarClass=t}}!function(){const e=new class{constructor(e){this.game=e,this.mode=r.PlayerVsComputer,this.playerOneSection=document.querySelector("#playerOne .section-body__shapes"),this.playerTwoSection=document.querySelector("#playerTwo .section__body"),this.resolutionActions=document.querySelector(".resolution__actions"),this.resolutionMsg=document.querySelector(".resolution__msg")}init(e){this.mode=parseInt(e),this.resetBoard(),this.mode===r.PlayerVsComputer?this.initPlayerVsComputer():this.mode===r.ComputerVsComputer?this.initComputerVsComputer():(this.mode=r.PlayerVsComputer,this.initPlayerVsComputer())}resetBoard(){this.playerOneSection.innerHTML="",this.playerTwoSection.innerHTML="",this.resolutionMsg.innerText="",this.resolutionActions.innerHTML=""}replaceInner(e,t){e.innerHTML="",e.appendChild(t)}initPlayerVsComputer(){const e=this;this.playerTwoSection.appendChild(this.createElementForHand()),this.game.hands.forEach(t=>{const n=this.createElementForHand(t);this.playerOneSection.appendChild(n),n.classList.add("clickable"),n.addEventListener("click",function(){const t=e.game.getHandByShape(this.dataset.hand),n=e.game.playComputer(),r=e.createElementForHand(n),o=e.game.compare(t,n);e.replaceInner(e.playerTwoSection,r),e.handleResolution(o),e.resolutionActions.innerText="Choose a hand to keep playing"})})}initComputerVsComputer(){const e=this,t=this.createElementForHand();this.playerOneSection.appendChild(t),this.playerTwoSection.appendChild(t.cloneNode());let n=document.createElement("button");n.innerText="Play",this.resolutionActions.appendChild(n),n.addEventListener("click",function(){const t=e.game.playComputer(),n=e.game.playComputer(),r=e.createElementForHand(t),o=e.createElementForHand(n),s=e.game.compare(t,n);e.replaceInner(e.playerOneSection,r),e.replaceInner(e.playerTwoSection,o),e.handleResolution(s)})}createElementForHand(e){let t=document.createElement("i");return e?(t.className=`${e.avatarClass} icon`,t.dataset.hand=e.shape):t.className="fas fa-question icon",t}handleResolution(e){let t="";switch(e){case 1:t=this.mode===r.PlayerVsComputer?"You win!":"Player 1 wins!";break;case 0:t="It is a tie!";break;case-1:t="Player 2 wins!"}document.querySelector(".resolution__msg").innerText=t}}(new class extends o{constructor(){super([new s("rock","far fa-hand-rock"),new s("paper","far fa-hand-paper"),new s("scissors","far fa-hand-scissors")],{rock:["scissors"],paper:["rock"],scissors:["paper"]})}});e.init(r.PlayerVsComputer),document.querySelector("select[name=mode]").addEventListener("change",function(){e.init(this.value)})}()}]);